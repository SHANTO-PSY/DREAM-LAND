<!doctype html>
<html lang="bn">

<head>
  <meta charset="utf-8" />
  <title>Dream Land тАФ Welcome тЖТ Rules тЖТ Login тЖТ Info</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #163754;
      --card: #0f2a41;
    }

    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      background: var(--bg);
      color: #fff;
      min-height: 100vh;
      display: grid;
      place-items: center;
      font-family: system-ui, Segoe UI, Arial
    }

    .card {
      width: 560px;
      max-width: 94vw;
      background: var(--card);
      border: 1px solid #184261;
      padding: 22px;
      border-radius: 16px;
      box-shadow: 0 14px 40px rgba(0, 0, 0, .25)
    }

    h1,
    h2 {
      margin: 0 0 12px;
      text-align: center
    }

    p {
      margin: 0 0 10px
    }

    .hidden {
      display: none
    }

    .logo {
      width: 150px;
      height: 150px;
      object-fit: contain;
      display: block;
      margin: 0 auto 14px
    }

    .grid-btn {
      display: grid;
      gap: 12px;
      margin: 18px 0
    }

    /* Default button */
    button {
      width: 100%;
      padding: 12px;
      border: 0;
      border-radius: 10px;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      font-weight: 600;
    }

    button:hover {
      filter: brightness(.9)
    }

    button:disabled {
      opacity: .6;
      cursor: not-allowed
    }

    /* ржЖрж▓рж╛ржжрж╛ рж░ржЩ */
    .btn-member {
      background: #4CAF50;
    }

    /* рж╕ржмрзБржЬ */
    .btn-loan {
      background: #2196F3;
    }

    /* ржирзАрж▓ */
    .btn-login {
      background: #FF9800;
    }

    /* ржХржорж▓рж╛ */
    .btn-committee {
      background: #9C27B0;
    }

    /* ржмрзЗржЧрзБржирж┐ */
    a {
      text-decoration: none
    }

    label {
      display: block;
      margin: 8px 0 4px
    }

    input {
      width: 100%;
      height: 44px;
      line-height: 44px;
      padding: 0 14px;
      border-radius: 8px;
      border: 1px solid #2b5576;
      background: #0b2336;
      color: #eef
    }

    .msg {
      min-height: 1.2em;
      margin: 10px 0;
      font-weight: 700
    }

    .ok {
      color: #4ad97f
    }

    .err {
      color: #ff6b6b
    }

    .grid {
      display: grid;
      grid-template-columns: 140px 1fr;
      gap: 8px 10px;
      margin-top: 10px
    }

    .row {
      position: relative
    }

    .row input {
      padding-right: 46px
    }

    .eye {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 28px;
      height: 28px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: 0;
      color: #bcd;
      cursor: pointer
    }

    .link {
      color: #9ad6ff;
      cursor: pointer;
      text-align: center;
      display: block;
      margin-top: 10px
    }

    .article {
      margin-top: 16px;
      text-align: left;
      line-height: 1.6
    }

    ul {
      margin: 8px 0 0 18px
    }
  </style>
</head>

<body>

  <!-- ============ WELCOME ============ -->
  <div id="welcome" class="card">
    <img class="logo" src="./logo.png" onerror="this.onerror=null;this.src='https://drive.google.com/uc?export=view&id=1EGbLTY58jMndZr54waGm7RjeqcX5SYsP';" alt="Logo">

    <h1>рж╕рзНржмрж╛ржЧрждржо!</h1>
    <p>тАЬрж╕рзНржмржкрзНржи ржирзАрзЬ рж╕рзЛрж╕рж╛ржЗржЯрж┐тАЭ-рждрзЗ ржЖржкржирж╛ржХрзЗ ржЖржирзНрждрж░рж┐ржХ рж╕рзНржмрж╛ржЧрждржо ЁЯМ╕</p>

    <div class="grid-btn">
      <!-- рж╕ржжрж╕рзНржп ржлрж░рзНржо: ржкрзНрж░ржержорзЗ ржирж┐рзЯржорж╛ржмрж▓рзА ржжрзЗржЦрж╛ржмрзЗ -->
      <button id="showRules" class="btn-member">ЁЯУе ржбрж╛ржЙржирж▓рзЛржб рж╕ржжрж╕рзНржп ржЖржмрзЗржжржи ржлрж░рзНржо</button>

      <!-- ржЛржг ржлрж░рзНржо: рж╕рж░рж╛рж╕рж░рж┐ ржбрж╛ржЙржирж▓рзЛржб/open -->
      <a href="forms/loan_form.pdf" target="_blank">
        <button class="btn-loan">ЁЯУе ржбрж╛ржЙржирж▓рзЛржб ржЛржг ржЖржмрзЗржжржи ржлрж░рзНржо</button>
      </a>

      <button id="goLogin" class="btn-login">ЁЯФС рж▓ржЧ ржЗржи</button>
      <button id="goCommittees" class="btn-committee">ЁЯСе ржЖржорж╛ржжрзЗрж░ ржХржорж┐ржЯрж┐</button>
    </div>

    <div class="article">
      <h2>ЁЯУ░ рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржЖрж░рзНржЯрж┐ржХрзЗрж▓</h2>
      <p>ЁЯСЙ ржЖржорж╛ржжрзЗрж░ рж╕ржорж╛ржЬ ржЙржирзНржирзЯржирзЗрж░ ржЬржирзНржп ржмрж┐ржнрж┐ржирзНржи ржХрж░рзНржорж╕рзВржЪрж┐ ржЪрж▓ржЫрзЗред</p>
      <p>ЁЯСЙ ржЛржг ржкрзНрж░ржжрж╛ржирзЗрж░ ржирж┐рзЯржорж╛ржмрж▓рзА рж╢рзАржШрзНрж░ржЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржмрзЗред</p>
      <p>ЁЯСЙ ржирждрзБржи рж╕ржжрж╕рзНржп рж╕ржВржЧрзНрж░рж╣ ржЕржнрж┐ржпрж╛ржи рж╢рзБрж░рзБ рж╣рзЯрзЗржЫрзЗред</p>
    </div>
  </div>

  <!-- ============ RULES (Member form rules) ============ -->
  <div id="rules" class="card hidden">
    <h2>ЁЯУЬ рж╕ржжрж╕рзНржп ржЖржмрзЗржжржи ржирж┐рзЯржорж╛ржмрж▓рзА</h2>
    <ul>
      <li>рж╢рзЗрзЯрж╛рж░рж╣рзЛрж▓рзНржбрж╛рж░ ржПрж░ рзи ржХржкрж┐ ржЫржмрж┐, ржПржиржЖржЗржбрж┐ рзз ржХржкрж┐ ржПржмржВ ржиржорж┐ржирж┐ рзз ржХржкрж┐ ржЫржмрж┐, ржПржиржЖржЗржбрж┐ рзз ржХржкрж┐ ржУ рзирзжрзж ржЯрж╛ржХрж╛ ржЬржорж╛ ржжрж┐рзЯрзЗ ржлрж░ржорзН ржлрж┐рж▓рж╛ржк ржХрж░рзЗ ржЬржорж╛ ржжрж┐рждрзЗ рж╣ржмрзЗред</li>
      <li>ржкрзНрж░рждрж┐ ржорж╛рж╕рзЗрж░ рззрзл рждрж╛рж░рж┐ржЦрзЗрж░ ржоржзрзНржпрзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржлрж┐ рж╕ржВржЧрзНрж░рж╣ ржХрж░рж╛ рж╣ржмрзЗ, ржкрзНрж░ржжрж╛ржи ржирж╛ ржХрж░рж▓рзЗ рзлрзжрзж ржЯрж╛ржХрж╛ ржЬрж░рж┐ржорж╛ржирж╛ ржХрж░рж╛ рж╣ржмрзЗред</li>
      <li>ржХрзЛржирзЛ рж╕ржжрж╕рзНржп ржкрж░ржкрж░ рждрж┐ржи ржорж╛рж╕рзЗрж░ ржХрж┐рж╕рзНрждрж┐ ржжрж┐рждрзЗ ржмрзНржпрж░рзНрже рж╣рж▓рзЗ рж╕ржХрж▓рзЗрж░ ржорждрж╛ржоржд ржирж┐рзЯрзЗ рждрж╛ржХрзЗ рж╕ржВржЧржаржи ржерзЗржХрзЗ ржирж┐рж╖рзНржкрждрзНрждрж┐ ржХрж░рж╛ рж╣ржмрзЗред</li>
      <li>рж╢рзЗрзЯрж╛рж░ ржмрж╛рждрж┐рж▓ ржХрж░рждрзЗ рж╣рж▓рзЗ ржкрзНрж░ржХрж▓рзНржкрзЗрж░ рж╕ржнрж╛ржкрждрж┐рж░ ржмрж░рж╛ржмрж░ рзй ржорж╛рж╕ ржкрзВрж░рзНржмрзЗ рж▓рж┐ржЦрж┐рждржнрж╛ржмрзЗ ржЬрж╛ржирж╛рждрзЗ рж╣ржмрзЗред</li>
      <li>рзй ржорж╛рж╕ ржкрж░ рж╢рзЗрзЯрж╛рж░ ржмрж┐ржХрзНрж░рзЯ рж╣рж▓рзЗ ржХрзНрж░рзЯржХрзГржд ржЯрж╛ржХрж╛ ржлрзЗрж░ржд ржжрзЗржУрзЯрж╛ рж╣ржмрзЗ ржПржмржВ ржмрж╛ржХрж┐ ржЯрж╛ржХрж╛ рж╣рж┐рж╕рж╛ржмрзЗрж░ ржкрж░рж┐рж╢рзЛржз ржХрж░рж╛ рж╣ржмрзЗред</li>
      <li>рж╕ржжрж╕рзНржпрждрж╛рж░ ржмрж╛рждрж┐рж▓рзЗрж░ рж╕ржорзЯрзЗ ржорзЛржЯ ржЖржжрж╛рзЯржХрзГржд ржЕрж░рзНрже рж╣рждрзЗ рзл% ржЪрж╛рж░рзНржЬ ржХрж╛ржЯрж╛ рж╣ржмрзЗред</li>
      <li>ржХрзЛржирзЛ ржорзЗрзЯрж╛ржж ржпржжрж┐ ржкрж╛ржБржЪ ржмржЫрж░ ржмрж╛ рждрж╛рж░ржУ ржЕржзрж┐ржХ рж╕ржорзЯрзЗ рж╕ржВржЧржаржи ржерзЗржХрзЗ ржмрзЗрж░ рж╣рждрзЗ ржЪрж╛рзЯ рждржмрзЗ ржХрзЛржирзЛ ржЗржирзНржЯрж╛рж░рзЗрж╕рзНржЯ ржкрж╛ржмрзЗ ржирж╛ред</li>
    </ul>
    <br>
    <!-- ржПржЦрж╛ржи ржерзЗржХрзЗ ржЖрж╕рж▓ ржлрж░рзНржо ржбрж╛ржЙржирж▓рзЛржб -->
    <a href="forms/member_form.pdf" target="_blank">
      <button class="btn-member">тмЗя╕П ржлрж░рзНржо ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи</button>
    </a>
    <span class="link" id="backHomeRules">тЖР рж╣рзЛржорзЗ ржлрж┐рж░рзБржи</span>
  </div>

  <!-- ============ LOGIN ============ -->
  <div id="login" class="card hidden">
    <h2>рж▓ржЧржЗржи (CODE + PASS)</h2>
    <label>CODE</label>
    <input id="code" placeholder="User ID">
    <label>PASS</label>
    <div class="row">
      <input id="pass" type="password" placeholder="Password" aria-label="Password">
      <button class="eye" id="togglePass" aria-label="Show/Hide">ЁЯСБ</button>
    </div>
    <button id="loginBtn" class="btn-login">рж▓ржЧржЗржи</button>
    <div id="msg" class="msg"></div>
    <span class="link" id="backHome1">тЖР рж╣рзЛржорзЗ ржлрж┐рж░рзБржи</span>
  </div>

  <!-- ============ RESULT ============ -->
  <div id="result" class="card hidden">
    <h2>ржЖржкржирж╛рж░ рждржерзНржп</h2>
    <div class="grid">
      <div>CODE</div>
      <div id="v_code"></div>
      <div>NAME</div>
      <div id="v_name"></div>
      <div>NID NO</div>
      <div id="v_nid"></div>
      <div>PHONE</div>
      <div id="v_phone"></div>
      <div>INSTALMENT</div>
      <div id="v_inst"></div>
      <div>TOTAL PAY</div>
      <div id="v_pay"></div>
    </div>
    <button id="logout" class="btn-login" style="margin-top:12px">рж▓ржЧржЖржЙржЯ</button>
    <span class="link" id="backHome2">тЖР рж╣рзЛржорзЗ ржлрж┐рж░рзБржи</span>
  </div>

  <!-- ============ COMMITTEES ============ -->
  <div id="committees" class="card hidden">
    <h2>ржЖржорж╛ржжрзЗрж░ ржХржорж┐ржЯрж┐</h2>
    <ul>
      <li>рж╕ржнрж╛ржкрждрж┐: ржЬржирж╛ржм ржЕржорзБржХ</li>
      <li>рж╕рж╛ржзрж╛рж░ржг рж╕ржорзНржкрж╛ржжржХ: ржЬржирж╛ржм рждржорзБржХ</li>
      <li>ржХрзЛрж╖рж╛ржзрзНржпржХрзНрж╖: ржЬржирж╛ржм XYZ</li>
      <!-- ржЖржкржирж╛рж░ рж▓рж┐рж╕рзНржЯ ржПржЦрж╛ржирзЗ ржЖржкржбрзЗржЯ ржХрж░рзБржи -->
    </ul>
    <span class="link" id="backHome3">тЖР рж╣рзЛржорзЗ ржлрж┐рж░рзБржи</span>
  </div>

  <!-- Firebase v8 CDN -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    /* Firebase config (ржЖржкржирж╛рж░ржЯрж╛ржЗ) */
    const firebaseConfig = {
      apiKey: "AIzaSyApZH0la4dyXRJ1rSJVBlusIrLhmAIehLk",
      authDomain: "dream-land-e55e0.firebaseapp.com",
      databaseURL: "https://dream-land-e55e0-default-rtdb.firebaseio.com",
      projectId: "dream-land-e55e0",
      storageBucket: "dream-land-e55e0.firebasestorage.app",
      messagingSenderId: "544133561119",
      appId: "1:544133561119:web:2a30b38a7b1d9f93cfce2a"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    // Helpers
    const $ = id => document.getElementById(id);
    const show = id => $(id).classList.remove('hidden');
    const hide = id => $(id).classList.add('hidden');
    // NAV: Welcome тЖФ Rules тЖФ Login/Committees
    $("showRules").onclick = () => {
      hide("welcome");
      show("rules");
    };
    $("backHomeRules").onclick = () => {
      hide("rules");
      show("welcome");
    };
    $("goLogin").onclick = () => {
      hide("welcome");
      hide("rules");
      hide("committees");
      show("login");
    };
    $("goCommittees").onclick = () => {
      hide("welcome");
      hide("rules");
      hide("login");
      show("committees");
    };
    $("backHome1").onclick = () => {
      hide("login");
      show("welcome");
    };
    $("backHome2").onclick = () => {
      hide("result");
      show("welcome");
    };
    $("backHome3").onclick = () => {
      hide("committees");
      show("welcome");
    };
    // Password eye toggle
    $("togglePass").onclick = () => {
      const p = $("pass");
      if (p.type === "password") {
        p.type = "text";
        $("togglePass").textContent = "ЁЯЩИ";
      } else {
        p.type = "password";
        $("togglePass").textContent = "ЁЯСБ";
      }
    };
    // Render result
    function renderRow(row) {
      $("v_code").textContent = row["1_ CODE"] ?? "";
      $("v_name").textContent = row["2_ NAME"] ?? "";
      $("v_nid").textContent = row["3_ NID NO"] ?? "";
      $("v_phone").textContent = row["4_ PHONE"] ?? "";
      $("v_inst").textContent = row["5_ INSTALMENT"] ?? "";
      $("v_pay").textContent = row["6_TOTAL PAY"] ?? "";
    }
    // Helper: show message in login card
    function say(t, ok = false) {
      $("msg").textContent = t;
      $("msg").className = "msg " + (ok ? "ok" : "err");
    }
    // Login
    async function doLogin() {
      say("");
      hide("result");
      const code = $("code").value.trim();
      const pass = $("pass").value.trim();
      if (!code || !pass) {
        say("CODE ржПржмржВ PASS рж▓рж┐ржЦрзБржи");
        return;
      }
      $("loginBtn").disabled = true;
      try {
        const snap = await db.ref("friends/" + code).once("value");
        if (!snap.exists()) {
          say("ржнрзБрж▓ ID тЭМ");
          return;
        }
        const row = snap.val();
        const dbPass = String(row["7_ PASS"] ?? "").trim();
        if (dbPass === pass) {
          say("рж▓ржЧржЗржи рж╕ржлрж▓ тЬЕ", true);
          renderRow(row);
          hide("login");
          show("result");
        } else {
          say("ржнрзБрж▓ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб тЭМ");
        }
      } catch (err) {
        console.error(err);
        say("Firebase Error: " + (err.message || err));
      } finally {
        $("loginBtn").disabled = false;
      }
    }
    $("loginBtn").onclick = doLogin;
    $("pass").addEventListener("keydown", e => {
      if (e.key === "Enter") doLogin();
    });
    $("code").addEventListener("keydown", e => {
      if (e.key === "Enter") doLogin();
    });
    $("logout").onclick = () => {
      hide("result");
      show("login");
    };
  </script>
</body>

</html>